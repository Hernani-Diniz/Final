<!DOCTYPE html>
<html lang="en">
<head>
  <title>Temperature and Humidity Readings</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/style.css" >
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<nav>
		<h4>LORAWAN</h4>
		<ul>
			<li><a href="/logged">Home</a></li>
			<li><a href="/graphs">Graphs</a></li>
      <li><a href="/sensors">Sensors</a></li>
      <li><a href="/profile">Profile</a></li>
      <li><a href="/logout">Logout</a></li>

			
		</ul>
	</nav>
<div class="container mt-4">
  <h1>Lista de Locais dos Sensores</h1>
        <table>
      <thead>
        <tr>
          <th>Local Name</th>
          <th>Local Description</th>
          <th></th>
        </tr>
      </thead>
  <tbody>
    {{#each locals}}
    <tr>
        <td>{{this.localName}}</td>
        <td>{{this.localDescription}}</td>
        <td>
        <div class="action-buttons">
          <div class="edit" onclick="editSensor({{this.id}})">Edit</div>
          <div class="delete" onclick="deleteLocal({{this.id}})">Delete</div>
        </div>
        </td>
    </tr>
    {{/each}}
  </tbody>
</table>




        <button class="submit">
            <span<a href="/addlocal">Adicionar Local</a></span>
         </button>	

         <button class="back"> 
          <a href="logged">Voltar</a>
         </button>
         
         
</div>




</body>

<script>
  const deleteLocal = (id) => {
    fetch('http://localhost:3000/addlocal', {
      method: 'DELETE',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ id }),
    })
      .then(() => {
        location.reload()
      })

  }

</script>

<!-- <script src ="https://code.jquery.com/jquery-3.4.1.js"></script>
<script src = "/socket.io/socket.io.js"></script>
{{!-- <script src = "/processdata.js"></script> --}} -->

</html> 